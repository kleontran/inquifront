{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/hacker/Desktop/1inqui/INQUILINO-PERFECTO/inquilino-front/src/Viviendas/CreateHome.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\n\nfunction CreateHome() {\n  _s();\n\n  const [ciudad, setCiudad] = useState(\"\");\n  const [provincia, setProvincia] = useState(\"\");\n  const [direccion, setDireccion] = useState(\"\");\n  const [nHabitaciones, setNHabitaciones] = useState(\"\");\n  const [m2, setM2] = useState(\"\");\n  const [nBanos, setNBanos] = useState(\"\");\n  const [precio_piso, setPrecio_piso] = useState(\"\");\n  const [descripcion, setDescripcion] = useState(\"\");\n  const [error, setError] = useState();\n  const login = useSelector(s => s.login);\n  const history = useHistory();\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const pisoImagen = e.target.pisoImagen.files[0];\n    const fd = new FormData();\n    fd.append(\"imagen\", pisoImagen);\n    fd.append(\"ciudad\", ciudad);\n    fd.append(\"provincia\", provincia);\n    fd.append(\"direccion\", direccion);\n    fd.append(\"nHabitaciones\", nHabitaciones);\n    fd.append(\"m2\", m2);\n    fd.append(\"nBanos\", nBanos);\n    fd.append(\"precio_piso\", precio_piso);\n    fd.append(\"descripcion\", descripcion ? descripcion : []);\n    const res = await fetch(\"http://localhost:9999/vivienda\", {\n      headers: {\n        Authorization: login.token\n      },\n      body: fd,\n      method: \"POST\"\n    });\n\n    if (res.ok) {\n      history.push(`/user/${login.id}/Viviendas`);\n    } else {\n      console.log(\"Error\");\n      setError(true);\n    }\n  };\n\n  const [preview, setPreview] = useState(null);\n\n  const handlePreview = e => {\n    e.preventDefault();\n    setPreview(URL.createObjectURL(e.target.files[0]));\n  };\n\n  const hiddenUpload = React.useRef(null);\n\n  const handleUpload = e => {\n    e.preventDefault();\n    hiddenUpload.current.click();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"createHome\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Alta de casa\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"createHomeContainer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"createHomeForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Rellena los datos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"previewContainer\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  marginBottom: \"10px\"\n                },\n                children: \"Foto seleccionada:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 17\n              }, this), preview && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"previewCreate\",\n                style: {\n                  backgroundImage: `url(${preview})`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"pisoImagen\",\n                type: \"file\",\n                onChange: handlePreview,\n                ref: hiddenUpload,\n                style: {\n                  display: \"none\"\n                },\n                accept: \"image/*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleUpload,\n                children: \"Sube una foto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"ciudad\",\n            type: \"text\",\n            placeholder: \"Ciudad...\",\n            value: ciudad,\n            onChange: e => setCiudad(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"provincia\",\n            type: \"text\",\n            placeholder: \"Provincia...\",\n            value: provincia,\n            onChange: e => setProvincia(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"direccion\",\n            type: \"text\",\n            placeholder: \"Direccion...\",\n            value: direccion,\n            onChange: e => setDireccion(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"banos\",\n            type: \"number\",\n            placeholder: \"Ba\\xF1os...\",\n            value: nBanos,\n            onChange: e => setNBanos(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"habitaciones\",\n            type: \"number\",\n            placeholder: \"Habitaciones...\",\n            value: nHabitaciones,\n            onChange: e => setNHabitaciones(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"m2\",\n            type: \"number\",\n            placeholder: \"m2...\",\n            value: m2,\n            onChange: e => setM2(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"precio\",\n            type: \"number\",\n            placeholder: \"Precio...\",\n            value: precio_piso,\n            onChange: e => setPrecio_piso(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            style: {\n              marginTop: \"40px\"\n            },\n            name: \"descripcion\",\n            rows: \"4\",\n            cols: \"45\",\n            placeholder: \"Descripci\\xF3n general\",\n            value: descripcion,\n            onChange: e => setDescripcion(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"errorCreacion\",\n            children: \"Error en la creaci\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"publicarHome\",\n            children: \"Publicar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      style: {\n        marginTop: \"15px\",\n        padding: \"10px\",\n        borderRadius: \"8px\",\n        boxShadow: \"1px 2px 3px 2px rgba(150, 150, 150, 0.75)\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: \"Volver\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CreateHome, \"DRsEwOElsda4Pg1s7UuL6GZFlSQ=\", false, function () {\n  return [useSelector, useHistory];\n});\n\n_c = CreateHome;\nexport default CreateHome;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateHome\");","map":{"version":3,"sources":["/home/hacker/Desktop/1inqui/INQUILINO-PERFECTO/inquilino-front/src/Viviendas/CreateHome.js"],"names":["React","useState","useSelector","useHistory","Link","CreateHome","ciudad","setCiudad","provincia","setProvincia","direccion","setDireccion","nHabitaciones","setNHabitaciones","m2","setM2","nBanos","setNBanos","precio_piso","setPrecio_piso","descripcion","setDescripcion","error","setError","login","s","history","handleSubmit","e","preventDefault","pisoImagen","target","files","fd","FormData","append","res","fetch","headers","Authorization","token","body","method","ok","push","id","console","log","preview","setPreview","handlePreview","URL","createObjectURL","hiddenUpload","useRef","handleUpload","current","click","marginBottom","backgroundImage","display","value","marginTop","padding","borderRadius","boxShadow"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\n\nfunction CreateHome() {\n  const [ciudad, setCiudad] = useState(\"\");\n  const [provincia, setProvincia] = useState(\"\");\n  const [direccion, setDireccion] = useState(\"\");\n  const [nHabitaciones, setNHabitaciones] = useState(\"\");\n  const [m2, setM2] = useState(\"\");\n  const [nBanos, setNBanos] = useState(\"\");\n  const [precio_piso, setPrecio_piso] = useState(\"\");\n\n  const [descripcion, setDescripcion] = useState(\"\");\n\n  const [error, setError] = useState();\n\n  const login = useSelector((s) => s.login);\n\n  const history = useHistory();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const pisoImagen = e.target.pisoImagen.files[0];\n\n    const fd = new FormData();\n    fd.append(\"imagen\", pisoImagen);\n    fd.append(\"ciudad\", ciudad);\n    fd.append(\"provincia\", provincia);\n    fd.append(\"direccion\", direccion);\n    fd.append(\"nHabitaciones\", nHabitaciones);\n    fd.append(\"m2\", m2);\n    fd.append(\"nBanos\", nBanos);\n    fd.append(\"precio_piso\", precio_piso);\n\n    fd.append(\"descripcion\", descripcion ? descripcion : []);\n\n    const res = await fetch(\"http://localhost:9999/vivienda\", {\n      headers: { Authorization: login.token },\n      body: fd,\n      method: \"POST\",\n    });\n    if (res.ok) {\n      history.push(`/user/${login.id}/Viviendas`);\n    } else {\n      console.log(\"Error\");\n      setError(true);\n    }\n  };\n\n  const [preview, setPreview] = useState(null);\n\n  const handlePreview = (e) => {\n    e.preventDefault();\n    setPreview(URL.createObjectURL(e.target.files[0]));\n  };\n\n  const hiddenUpload = React.useRef(null);\n\n  const handleUpload = (e) => {\n    e.preventDefault();\n    hiddenUpload.current.click();\n  };\n\n  return (\n    <div className=\"createHome\">\n      <h1>Alta de casa</h1>\n      <div className=\"createHomeContainer\">\n        {/* <div className=\"showMap\">\n          <h3>Pulsa en el marcador</h3>\n           <NewMap\n            center={center}\n            position={position}\n            onChange={handlePosition}\n          /> \n        </div> */}\n        <div className=\"createHomeForm\">\n          <h1>Rellena los datos</h1>\n          <form onSubmit={handleSubmit}>\n            <label>\n              <div className=\"previewContainer\">\n                <span\n                  style={{\n                    marginBottom: \"10px\",\n                  }}\n                >\n                  Foto seleccionada:\n                </span>\n                {preview && (\n                  <div\n                    className=\"previewCreate\"\n                    style={{ backgroundImage: `url(${preview})` }}\n                  />\n                )}\n              </div>\n              <div>\n                <input\n                  name=\"pisoImagen\"\n                  type=\"file\"\n                  onChange={handlePreview}\n                  ref={hiddenUpload}\n                  style={{ display: \"none\" }}\n                  accept=\"image/*\"\n                />\n                <button onClick={handleUpload}>Sube una foto</button>\n              </div>\n            </label>\n            <input\n              name=\"ciudad\"\n              type=\"text\"\n              placeholder=\"Ciudad...\"\n              value={ciudad}\n              onChange={(e) => setCiudad(e.target.value)}\n            />\n            <input\n              name=\"provincia\"\n              type=\"text\"\n              placeholder=\"Provincia...\"\n              value={provincia}\n              onChange={(e) => setProvincia(e.target.value)}\n            />\n            <input\n              name=\"direccion\"\n              type=\"text\"\n              placeholder=\"Direccion...\"\n              value={direccion}\n              onChange={(e) => setDireccion(e.target.value)}\n            />\n            <input\n              name=\"banos\"\n              type=\"number\"\n              placeholder=\"Baños...\"\n              value={nBanos}\n              onChange={(e) => setNBanos(e.target.value)}\n            />\n            <input\n              name=\"habitaciones\"\n              type=\"number\"\n              placeholder=\"Habitaciones...\"\n              value={nHabitaciones}\n              onChange={(e) => setNHabitaciones(e.target.value)}\n            />\n            <input\n              name=\"m2\"\n              type=\"number\"\n              placeholder=\"m2...\"\n              value={m2}\n              onChange={(e) => setM2(e.target.value)}\n            />\n            <input\n              name=\"precio\"\n              type=\"number\"\n              placeholder=\"Precio...\"\n              value={precio_piso}\n              onChange={(e) => setPrecio_piso(e.target.value)}\n            />\n            {/* <div className=\"homeFormOptions\">\n              <label>\n                <span>\n                  Ascensor\n                  <input\n                    type=\"checkbox\"\n                    name=\"ascensor\"\n                    checked={ascensor}\n                    onChange={(e) => setAscensor(e.target.checked)}\n                  />\n                </span>\n                <span>\n                  Garaje\n                  <input\n                    type=\"checkbox\"\n                    name=\"garaje\"\n                    checked={garaje}\n                    onChange={(e) => setGaraje(e.target.checked)}\n                  />\n                </span>\n              </label>\n              <label>\n                <span>\n                  Balcón\n                  <input\n                    type=\"checkbox\"\n                    name=\"balcon\"\n                    checked={balcon}\n                    onChange={(e) => setBalcon(e.target.checked)}\n                  />\n                </span>\n                <span>\n                  Jardín\n                  <input\n                    type=\"checkbox\"\n                    name=\"jardin\"\n                    checked={jardin}\n                    onChange={(e) => setJardin(e.target.checked)}\n                  />\n                </span>\n              </label>\n            </div> */}\n            <textarea\n              style={{\n                marginTop: \"40px\",\n              }}\n              name=\"descripcion\"\n              rows=\"4\"\n              cols=\"45\"\n              placeholder=\"Descripción general\"\n              value={descripcion}\n              onChange={(e) => setDescripcion(e.target.value)}\n            />\n            {error && <div className=\"errorCreacion\">Error en la creación</div>}\n            <button className=\"publicarHome\">Publicar</button>\n          </form>\n        </div>\n      </div>\n      <button\n        style={{\n          marginTop: \"15px\",\n          padding: \"10px\",\n          borderRadius: \"8px\",\n          boxShadow: \"1px 2px 3px 2px rgba(150, 150, 150, 0.75)\",\n        }}\n      >\n        <Link to=\"/\">Volver</Link>\n      </button>\n    </div>\n  );\n}\n\nexport default CreateHome;\n"]},"metadata":{},"sourceType":"module"}