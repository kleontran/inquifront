{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/hacker/Documents/iNQUI/inqui-hack-a-boss/inquilino-front/src/Viviendas/HomeBoookings.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport AcceptOrDeclineBooking from \"../Bookings/AcceptOrDeclineBooking\";\nimport useFetch from \"../useFetch\";\nimport moment from \"moment\";\nimport Valorar from \"../Utils/Valorar\";\n\nfunction HomeBoookings() {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const [page, setPage] = useState(1);\n  const reservas = useFetch(`http://localhost:9999/api/v1/pisos/${id}/reservas`) || [];\n  console.log(reservas);\n  const paginatedResults = reservas ? reservas.slice(2 * (page - 1), 2 * page) : [];\n  const max = reservas ? Math.ceil(reservas.length / 2) : [];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"homeBookingsContainer\",\n    children: [reservas && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pagination\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"back\",\n        onClick: () => setPage(page > 1 ? page - 1 : 1)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [page, \" / \", max]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"forward\",\n        onClick: () => setPage(page < max ? page + 1 : max)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }, this), reservas && paginatedResults.map(r => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"homeBookingsContent\",\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"Nombre: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: r.nombre\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"Email: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: r.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 24\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"Precio: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [r.precio, \"\\u20AC\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"Realiz\\xF3 la petici\\xF3n:\", \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: moment(r.fecha_reserva).format(\"DD-MM-YYYY\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"Fecha de entrada:\", \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: moment(r.fecha_entrada).format(\"DD-MM-YYYY\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"Fecha de salida:\", \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: moment(r.fecha_salida).format(\"DD-MM-YYYY\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }, this), r.estado === \"pendiente\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(AcceptOrDeclineBooking, {\n          id: r.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }, this), r.estado === \"aceptado\" && /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"scoreHomeBooking\",\n        children: [/*#__PURE__*/_jsxDEV(Valorar, {\n          previousScore: r.avg_scoreUsuario,\n          id: r.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"(\", r.countScoreUsuario, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }, this), r.estado === \"aceptado\" && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Ya has aceptado esta reserva.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 41\n      }, this), r.estado === \"declinado\" && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Ya has rechazado esta reserva.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 42\n      }, this)]\n    }, r.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n}\n\n_s(HomeBoookings, \"aYmRuABJuFzv2Z0Qf/APtEd4ug8=\", false, function () {\n  return [useParams, useFetch];\n});\n\n_c = HomeBoookings;\nexport default HomeBoookings;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomeBoookings\");","map":{"version":3,"sources":["/home/hacker/Documents/iNQUI/inqui-hack-a-boss/inquilino-front/src/Viviendas/HomeBoookings.js"],"names":["useState","useParams","AcceptOrDeclineBooking","useFetch","moment","Valorar","HomeBoookings","id","page","setPage","reservas","console","log","paginatedResults","slice","max","Math","ceil","length","map","r","nombre","email","precio","fecha_reserva","format","fecha_entrada","fecha_salida","estado","avg_scoreUsuario","countScoreUsuario"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport AcceptOrDeclineBooking from \"../Bookings/AcceptOrDeclineBooking\";\nimport useFetch from \"../useFetch\";\nimport moment from \"moment\";\nimport Valorar from \"../Utils/Valorar\";\n\nfunction HomeBoookings() {\n  const { id } = useParams();\n  const [page, setPage] = useState(1);\n\n  const reservas =\n    useFetch(`http://localhost:9999/api/v1/pisos/${id}/reservas`) || [];\n  console.log(reservas);\n\n  const paginatedResults = reservas\n    ? reservas.slice(2 * (page - 1), 2 * page)\n    : [];\n  const max = reservas ? Math.ceil(reservas.length / 2) : [];\n\n  return (\n    <div className=\"homeBookingsContainer\">\n      {reservas && (\n        <div className=\"pagination\">\n          <button\n            className=\"back\"\n            onClick={() => setPage(page > 1 ? page - 1 : 1)}\n          />\n          <span>\n            {page} / {max}\n          </span>\n          <button\n            className=\"forward\"\n            onClick={() => setPage(page < max ? page + 1 : max)}\n          />\n        </div>\n      )}\n      {reservas &&\n        paginatedResults.map((r) => (\n          <div className=\"homeBookingsContent\" key={r.id}>\n            <ul>\n              <li>\n                Nombre: <b>{r.nombre}</b>\n              </li>\n              <li>\n                Email: <b>{r.email}</b>\n              </li>\n              <li>\n                Precio: <b>{r.precio}€</b>\n              </li>\n              <li>\n                Realizó la petición:{\" \"}\n                <b>{moment(r.fecha_reserva).format(\"DD-MM-YYYY\")}</b>\n              </li>\n              <li>\n                Fecha de entrada:{\" \"}\n                <b>{moment(r.fecha_entrada).format(\"DD-MM-YYYY\")}</b>\n              </li>\n              <li>\n                Fecha de salida:{\" \"}\n                <b>{moment(r.fecha_salida).format(\"DD-MM-YYYY\")}</b>\n              </li>\n            </ul>\n            {r.estado === \"pendiente\" && (\n              <div>\n                <AcceptOrDeclineBooking id={r.id} />\n              </div>\n            )}\n            {r.estado === \"aceptado\" && (\n              <label className=\"scoreHomeBooking\">\n                <Valorar previousScore={r.avg_scoreUsuario} id={r.id} />\n                <p>({r.countScoreUsuario})</p>\n              </label>\n            )}\n            {r.estado === \"aceptado\" && <p>Ya has aceptado esta reserva.</p>}\n            {r.estado === \"declinado\" && <p>Ya has rechazado esta reserva.</p>}\n          </div>\n        ))}\n    </div>\n  );\n}\n\nexport default HomeBoookings;\n"]},"metadata":{},"sourceType":"module"}