{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/hacker/Desktop/1inqui/INQUILINO-PERFECTO/inquilino-front/src/Viviendas/UpdateHome.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Link, useHistory, useParams } from \"react-router-dom\";\nimport useFetch from \"../useFetch\";\nimport Rating from \"../Utils/Rating\";\nimport HomeBoookings from \"./HomeBoookings\";\n\nfunction UpdateHomeWrapper() {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const data = useFetch(`http://localhost:9999/vivienda/${id}`);\n  return data ? /*#__PURE__*/_jsxDEV(UpdateHome, {\n    data: data[0]\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 17\n  }, this) : false;\n}\n\n_s(UpdateHomeWrapper, \"CXr/3A6qCWP3JrS49HWt/K/swvQ=\", false, function () {\n  return [useParams, useFetch];\n});\n\n_c = UpdateHomeWrapper;\n\nfunction UpdateHome({\n  data\n}) {\n  _s2();\n\n  const [ciudad, setCiudad] = useState(data.ciudad || \"\");\n  const [provincia, setProvincia] = useState(data.provincia || \"\");\n  const [direccion, setDireccion] = useState(data.direccion || \"\");\n  const [nHabitaciones, setNHabitaciones] = useState(data.nHabitaciones || \"\");\n  const [m2, setM2] = useState(data.m2 || \"\");\n  const [nBanos, setNBanos] = useState(data.nBanos || \"\");\n  const [precio_piso, setPrecio_piso] = useState(data.precio_piso || \"\");\n  const [descripcion, setDescripcion] = useState(data.descripcion || \"\");\n  const {\n    id\n  } = useParams();\n  const login = useSelector(s => s.login);\n  const id_usuario = login.id;\n  const history = useHistory();\n  console.log(data);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const pisoImagen = e.target.pisoImagen.files[0];\n    const fd = new FormData();\n    fd.append(\"imagen\", pisoImagen);\n    fd.append(\"ciudad\", ciudad);\n    fd.append(\"provincia\", provincia);\n    fd.append(\"direccion\", direccion);\n    fd.append(\"nHabitaciones\", nHabitaciones);\n    fd.append(\"m2\", m2);\n    fd.append(\"nBanos\", nBanos);\n    fd.append(\"precio_piso\", precio_piso);\n    fd.append(\"descripcion\", descripcion);\n    fd.append(\"id_usuario\", id_usuario);\n    const res = await fetch(`http://localhost:9999/vivienda/${id}`, {\n      method: \"PUT\",\n      headers: {\n        Authorization: login.token\n      },\n      body: fd\n    });\n\n    if (res.ok) {\n      history.push(`/home/${id}`);\n    } else {\n      console.log(\"Ha habido un error\");\n    }\n  };\n\n  const homeUrl = data.imagen && `http://localhost:9999/images/${data.imagen}.jpg`;\n  const homeStyle = login && data.imagen && {\n    backgroundImage: \"url(\" + homeUrl + \")\"\n  };\n\n  const handleDelete = async e => {\n    e.preventDefault();\n    const res = await fetch(`http://localhost:9999/vivienda/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        Authorization: login.token\n      }\n    });\n\n    if (res.ok) {\n      history.push(`/home/${id}`);\n    } else {\n      console.log(\"Ha habido un error\");\n    }\n\n    history.push(`/user/${login.id}/Viviendas`);\n  };\n\n  const [open, setOpen] = useState(false);\n\n  const handleEdit = e => {\n    e.preventDefault();\n    setOpen(!open);\n  };\n\n  const hiddenUpload = React.useRef(null);\n\n  const handleUpload = e => {\n    e.preventDefault();\n    hiddenUpload.current.click();\n  };\n\n  const [preview, setPreview] = useState(null);\n\n  const handlePreview = e => {\n    e.preventDefault();\n    setPreview(URL.createObjectURL(e.target.files[0]));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"updateHomeContainer\",\n    children: [data && id_usuario === data.id_usuario && /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Mi vivienda\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 50\n    }, this), data && id_usuario !== data.id_usuario && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Este no es el sitio que buscabas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"obiWanBanner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Volver\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this), data && id_usuario === data.id_usuario && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"updateHomeFlex\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"updateHomeContent\",\n        children: [!open && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"myHomeData\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pisoImagen\",\n            style: data.imagen && {\n              backgroundImage: `url(http://localhost:9999/images/${data.imagen}.jpg)`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Provincia: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: data.provincia\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 32\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Ciudad: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: data.ciudad\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Direcci\\xF3n: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: data.direccion\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 32\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Precio: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: [data.precio_piso, \"\\u20AC\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Habitaciones: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: data.nHabitaciones\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 35\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Ba\\xF1os: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: data.nBanos\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 28\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(Rating, {\n                value: data.avg_score\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 21\n              }, this), \"(\", data.countScore, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 15\n        }, this), open && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"homePicker\",\n              children: [!preview && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Foto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"pisoImagen\",\n                  style: homeStyle\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 23\n              }, this), preview && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"previewContainer\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Foto seleccionada:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"previewCreate\",\n                  style: {\n                    backgroundImage: `url(${preview})`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"pisoImagen\",\n                type: \"file\",\n                accept: \"image/*\",\n                ref: hiddenUpload,\n                onChange: handlePreview,\n                style: {\n                  display: \"none\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleUpload,\n                children: \"Sube una foto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"firstInputs\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n                    children: \"Ciudad\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"ciudad\",\n                    placeholder: \"Ciudad...\",\n                    value: ciudad,\n                    onChange: e => setCiudad(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n                    children: \"Provincia\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"provincia\",\n                    placeholder: \"Provincia...\",\n                    value: provincia,\n                    onChange: e => setProvincia(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n                    children: \"Direccion\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"direccion\",\n                    placeholder: \"Direccion...\",\n                    value: direccion,\n                    onChange: e => setDireccion(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n                    children: \"Ba\\xF1os\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"banos\",\n                    type: \"number\",\n                    placeholder: \"Ba\\xF1os...\",\n                    value: nBanos,\n                    onChange: e => setNBanos(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n                    children: \"Habitaciones\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"habitaciones\",\n                    type: \"number\",\n                    placeholder: \"Habitaciones...\",\n                    value: nHabitaciones,\n                    onChange: e => setNHabitaciones(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n                    children: \"Metros cuadrados\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 232,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"m2\",\n                    type: \"number\",\n                    placeholder: \"m2...\",\n                    value: m2,\n                    onChange: e => setM2(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 233,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n                    children: \"Precio\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"precio\",\n                    type: \"number\",\n                    placeholder: \"Precio...\",\n                    value: precio_piso,\n                    onChange: e => setPrecio_piso(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                rows: \"5\",\n                cols: \"50\",\n                placeholder: \"Cu\\xE9ntanos algo sobre tu vivienda\",\n                name: \"descripcion\",\n                value: descripcion,\n                onChange: e => setDescripcion(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"updateHomeButtons\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"deleteHomeButton\",\n                onClick: e => {\n                  if (window.confirm(\"¿De veras quieres borrarla?\")) handleDelete(e);\n                },\n                children: \"Borrar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"Guardar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 15\n        }, this), !open && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"editButton1\",\n          onClick: handleEdit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 23\n        }, this), open && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"editButton2\",\n          onClick: handleEdit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 22\n        }, this), !open && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(HomeBoookings, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(UpdateHome, \"MEXBPTu0K88wwVdUQIGQyZmEn1g=\", false, function () {\n  return [useParams, useSelector, useHistory];\n});\n\n_c2 = UpdateHome;\nexport default UpdateHomeWrapper;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"UpdateHomeWrapper\");\n$RefreshReg$(_c2, \"UpdateHome\");","map":{"version":3,"sources":["/home/hacker/Desktop/1inqui/INQUILINO-PERFECTO/inquilino-front/src/Viviendas/UpdateHome.js"],"names":["React","useState","useSelector","Link","useHistory","useParams","useFetch","Rating","HomeBoookings","UpdateHomeWrapper","id","data","UpdateHome","ciudad","setCiudad","provincia","setProvincia","direccion","setDireccion","nHabitaciones","setNHabitaciones","m2","setM2","nBanos","setNBanos","precio_piso","setPrecio_piso","descripcion","setDescripcion","login","s","id_usuario","history","console","log","handleSubmit","e","preventDefault","pisoImagen","target","files","fd","FormData","append","res","fetch","method","headers","Authorization","token","body","ok","push","homeUrl","imagen","homeStyle","backgroundImage","handleDelete","open","setOpen","handleEdit","hiddenUpload","useRef","handleUpload","current","click","preview","setPreview","handlePreview","URL","createObjectURL","avg_score","countScore","display","value","window","confirm"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Link, useHistory, useParams } from \"react-router-dom\";\nimport useFetch from \"../useFetch\";\nimport Rating from \"../Utils/Rating\";\nimport HomeBoookings from \"./HomeBoookings\";\n\nfunction UpdateHomeWrapper() {\n  const { id } = useParams();\n  const data = useFetch(`http://localhost:9999/vivienda/${id}`);\n  return data ? <UpdateHome data={data[0]} /> : false;\n}\n\nfunction UpdateHome({ data }) {\n  const [ciudad, setCiudad] = useState(data.ciudad || \"\");\n  const [provincia, setProvincia] = useState(data.provincia || \"\");\n  const [direccion, setDireccion] = useState(data.direccion || \"\");\n  const [nHabitaciones, setNHabitaciones] = useState(data.nHabitaciones || \"\");\n  const [m2, setM2] = useState(data.m2 || \"\");\n  const [nBanos, setNBanos] = useState(data.nBanos || \"\");\n  const [precio_piso, setPrecio_piso] = useState(data.precio_piso || \"\");\n  const [descripcion, setDescripcion] = useState(data.descripcion || \"\");\n  const { id } = useParams();\n  const login = useSelector((s) => s.login);\n  const id_usuario = login.id;\n\n  const history = useHistory();\n\n  console.log(data);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const pisoImagen = e.target.pisoImagen.files[0];\n\n    const fd = new FormData();\n    fd.append(\"imagen\", pisoImagen);\n    fd.append(\"ciudad\", ciudad);\n    fd.append(\"provincia\", provincia);\n    fd.append(\"direccion\", direccion);\n    fd.append(\"nHabitaciones\", nHabitaciones);\n    fd.append(\"m2\", m2);\n    fd.append(\"nBanos\", nBanos);\n    fd.append(\"precio_piso\", precio_piso);\n\n    fd.append(\"descripcion\", descripcion);\n    fd.append(\"id_usuario\", id_usuario);\n\n    const res = await fetch(`http://localhost:9999/vivienda/${id}`, {\n      method: \"PUT\",\n      headers: { Authorization: login.token },\n      body: fd,\n    });\n    if (res.ok) {\n      history.push(`/home/${id}`);\n    } else {\n      console.log(\"Ha habido un error\");\n    }\n  };\n\n  const homeUrl =\n    data.imagen && `http://localhost:9999/images/${data.imagen}.jpg`;\n  const homeStyle = login &&\n    data.imagen && { backgroundImage: \"url(\" + homeUrl + \")\" };\n\n  const handleDelete = async (e) => {\n    e.preventDefault();\n    const res = await fetch(`http://localhost:9999/vivienda/${id}`, {\n      method: \"DELETE\",\n      headers: { Authorization: login.token },\n    });\n    if (res.ok) {\n      history.push(`/home/${id}`);\n    } else {\n      console.log(\"Ha habido un error\");\n    }\n    history.push(`/user/${login.id}/Viviendas`);\n  };\n\n  const [open, setOpen] = useState(false);\n\n  const handleEdit = (e) => {\n    e.preventDefault();\n    setOpen(!open);\n  };\n\n  const hiddenUpload = React.useRef(null);\n\n  const handleUpload = (e) => {\n    e.preventDefault();\n    hiddenUpload.current.click();\n  };\n\n  const [preview, setPreview] = useState(null);\n\n  const handlePreview = (e) => {\n    e.preventDefault();\n    setPreview(URL.createObjectURL(e.target.files[0]));\n  };\n\n  return (\n    <div className=\"updateHomeContainer\">\n      {data && id_usuario === data.id_usuario && <h1>Mi vivienda</h1>}\n      {data && id_usuario !== data.id_usuario && (\n        <div>\n          <h1>Este no es el sitio que buscabas</h1>\n          <div className=\"obiWanBanner\" />\n          <Link to=\"/\">\n            <h3>Volver</h3>\n          </Link>\n        </div>\n      )}\n      {data && id_usuario === data.id_usuario && (\n        <div className=\"updateHomeFlex\">\n          <div className=\"updateHomeContent\">\n            {!open && (\n              <div className=\"myHomeData\">\n                <div\n                  className=\"pisoImagen\"\n                  style={\n                    data.imagen && {\n                      backgroundImage: `url(http://localhost:9999/images/${data.imagen}.jpg)`,\n                    }\n                  }\n                />\n                <ul>\n                  <li>\n                    Provincia: <b>{data.provincia}</b>\n                  </li>\n                  <li>\n                    Ciudad: <b>{data.ciudad}</b>\n                  </li>\n                  <li>\n                    Dirección: <b>{data.direccion}</b>\n                  </li>\n                  <li>\n                    Precio: <b>{data.precio_piso}€</b>\n                  </li>\n                  <li>\n                    Habitaciones: <b>{data.nHabitaciones}</b>\n                  </li>\n                  <li>\n                    Baños: <b>{data.nBanos}</b>\n                  </li>\n                  <label>\n                    <Rating value={data.avg_score} />({data.countScore})\n                  </label>\n                </ul>\n              </div>\n            )}\n            {open && (\n              <div>\n                <form onSubmit={handleSubmit}>\n                  <div className=\"homePicker\">\n                    {!preview && (\n                      <div>\n                        <span>Foto</span>\n                        <div className=\"pisoImagen\" style={homeStyle} />\n                      </div>\n                    )}\n                    {preview && (\n                      <div className=\"previewContainer\">\n                        <span>Foto seleccionada:</span>\n                        <div\n                          className=\"previewCreate\"\n                          style={{ backgroundImage: `url(${preview})` }}\n                        />\n                      </div>\n                    )}\n                    <input\n                      name=\"pisoImagen\"\n                      type=\"file\"\n                      accept=\"image/*\"\n                      ref={hiddenUpload}\n                      onChange={handlePreview}\n                      style={{ display: \"none\" }}\n                    />\n                    <button onClick={handleUpload}>Sube una foto</button>\n                  </div>\n                  <div className=\"firstInputs\">\n                    <div>\n                      <fieldset>\n                        <legend>Ciudad</legend>\n                        <input\n                          name=\"ciudad\"\n                          placeholder=\"Ciudad...\"\n                          value={ciudad}\n                          onChange={(e) => setCiudad(e.target.value)}\n                        />\n                      </fieldset>\n                      <fieldset>\n                        <legend>Provincia</legend>\n                        <input\n                          name=\"provincia\"\n                          placeholder=\"Provincia...\"\n                          value={provincia}\n                          onChange={(e) => setProvincia(e.target.value)}\n                        />\n                      </fieldset>\n                      <fieldset>\n                        <legend>Direccion</legend>\n                        <input\n                          name=\"direccion\"\n                          placeholder=\"Direccion...\"\n                          value={direccion}\n                          onChange={(e) => setDireccion(e.target.value)}\n                        />\n                      </fieldset>\n                      <fieldset>\n                        <legend>Baños</legend>\n                        <input\n                          name=\"banos\"\n                          type=\"number\"\n                          placeholder=\"Baños...\"\n                          value={nBanos}\n                          onChange={(e) => setNBanos(e.target.value)}\n                        />\n                      </fieldset>\n                    </div>\n                    <div>\n                      <fieldset>\n                        <legend>Habitaciones</legend>\n                        <input\n                          name=\"habitaciones\"\n                          type=\"number\"\n                          placeholder=\"Habitaciones...\"\n                          value={nHabitaciones}\n                          onChange={(e) => setNHabitaciones(e.target.value)}\n                        />\n                      </fieldset>\n                      <fieldset>\n                        <legend>Metros cuadrados</legend>\n                        <input\n                          name=\"m2\"\n                          type=\"number\"\n                          placeholder=\"m2...\"\n                          value={m2}\n                          onChange={(e) => setM2(e.target.value)}\n                        />\n                      </fieldset>\n                      <fieldset>\n                        <legend>Precio</legend>\n                        <input\n                          name=\"precio\"\n                          type=\"number\"\n                          placeholder=\"Precio...\"\n                          value={precio_piso}\n                          onChange={(e) => setPrecio_piso(e.target.value)}\n                        />\n                      </fieldset>\n                    </div>\n                  </div>\n                  <div>\n                    <textarea\n                      rows=\"5\"\n                      cols=\"50\"\n                      placeholder=\"Cuéntanos algo sobre tu vivienda\"\n                      name=\"descripcion\"\n                      value={descripcion}\n                      onChange={(e) => setDescripcion(e.target.value)}\n                    />\n                  </div>\n                  <div className=\"updateHomeButtons\">\n                    <div\n                      className=\"deleteHomeButton\"\n                      onClick={(e) => {\n                        if (window.confirm(\"¿De veras quieres borrarla?\"))\n                          handleDelete(e);\n                      }}\n                    >\n                      Borrar\n                    </div>\n                    <button>Guardar</button>\n                  </div>\n                </form>\n              </div>\n            )}\n            {!open && <button className=\"editButton1\" onClick={handleEdit} />}\n            {open && <button className=\"editButton2\" onClick={handleEdit} />}\n            {!open && (\n              <div>\n                <HomeBoookings />\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default UpdateHomeWrapper;\n"]},"metadata":{},"sourceType":"module"}